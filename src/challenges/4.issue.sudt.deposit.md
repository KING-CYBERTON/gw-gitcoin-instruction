# 4. Issue an SUDT Token on Layer 1 and Deposit it into Polyjuice on Layer 2

In this challenge, we create a token on Layer 1, then move it to the EVM compatible Layer 2. The token on Layer 1 will use the SUDT standard, which is the most basic form of asset on Nervos. When the token is moved to Layer 2, it is exchanged for an ERC20 token, which is the most popular token standard on blockchains that support the Ethereum Virtual Machine (EVM).

The reason that ERC20 tokens are used on Layer 2 is that this ensures full compatibility with EVM. Existing smart contracts that are designed for Ethereum, using languages like Solidity, will continue to work without modification. Because the EVM Layer 2 is based on optimistic rollups, any dapp built on it will immediately gain higher TPS with dramatically lower fees for all their users.

In the future, support for other blockchains, such as Cardano, Polkadot, and Stellar, can be added. This enables Nervos to support smart contracts from virtually any platform, and all of their respective token standards. All tokens based on any standard will be able to freely move between layers, and different environments, enabling asset transfer functionality that was previously difficult to impossible on many other competing platforms.

## Requirements

Before starting, you will need to setup your development environment. For information about system requirements and setup please [review this article](/src/challenge-setup-and-requirements/challenge-setup-and-requirements.md).

## Challenge Instructions

We will start by issuing an SUDT token on Layer 1. To do this, you will need the private key of a Layer 1 account that has been funded with Testnet CKBytes. You should already have this available from the previous challenges. You can then use the `sudt-cli` tool to create an SUDT token on the Layer 1 Testnet.

### [1. Use the Sudt-cli Tool to Issue an SUDT Token on Layer 1](../component-tutorials/)

After you have created your SUDT tokens, you can use the Godwoken Examples Deposit Tool to move them to Polyjuice on Layer 2.

### 2. Prepare the Deposit Tool

```sh
git clone https://github.com/nervosnetwork/Godwoken-examples -b v0.2.1
cd Godwoken-examples
yarn && yarn run build-all
yarn run generate-testnet-configs
```

### 3. Configure Your Tool to Use a Testnet CKB Node

The Deposit Tool will require access to a CKB Node that is configured for the Testnet. You can either set one up locally using [these instructions](https://docs.nervos.org/docs/basics/guides/testnet), or you can use an existing public Testnet node.

If you're running a local Testnet node, it will take 4-5 hours to syncronize, but you can optionally use a [bootstrap](https://ckb.tools/bootstrap) to speed up this process.

One you have access to a Testnet CKB Node, populate your `godwoken-config.json` file:

1. Open `godwoken-examples/packages/tools/configs/godwoken-config.json`
2. Update the `rpc_client.ckb_url` value to Testnet CKB Node RPC URL.
3. Update the `rpc_client.indexer_url` value to your Testnet CKB Indexer RPC URL.

### 4. Deposit Your SUDT Tokens to Layer 2

To deposit your SUDT tokens using the Deposit Tool from Godwoken Examples, use the following command, filling in the required values with your information as needed:

```sh
node ./packages/tools/lib/account-cli.js deposit-sudt -m <TOKEN_AMOUNT> -s <LOCK_SCRIPT_HASH> -p <PRIVATE_KEY> -l <ETH_ADDRESS>
```

Variables:

1. TOKEN_AMOUNT: The number of SUDT tokens you will deposit.
2. LOCK_SCRIPT_HASH: The lock script hash of your Layer 1 account.
3. PRIVATE_KEY: The private key for your Layer 1 account.
4. ETH_ADDRESS: The Ethereum address you will deposit to on Layer 2.

Obtaining your LOCK_SCRIPT_HASH:

1. Open http://ckb.tools/address in a web browser.
2. In "Nervos CKB Address" enter your address from Keypering wallet.
3. Copy "Lock Script Hash" value.

<img src="../images/ckb-tools-address.png" width="100%" />

PRIVATE_KEY:

You must use the same `PRIVATE_KEY` to issue SUDT and to deposit SUDT on Godwoken account.

ETH_ADDRESS:

Create account in MetaMask and copy its address.

<img src="../images/metamask-address.png" style="border: 1px solid #eeeeee; height: 300px" />

Example final command:

``` sh
node ./packages/tools/lib/account-cli.js deposit-sudt -m 400 -s 0x6f33df7e3fffb47794f9ca37643118ba79207ac92596a0555e9038828e547357 -p 0xd9066ff9f753a1898709b568119055660a77d9aae4d7a4ad677b8fb3d2a571e5 -l 0xD173313A51f8fc37BcF67569b463abd89d81844f
```

When you execute this command, the Lumos Indexer will need to sync with the Testnet. This will take several hours, but you can optionally use the [bootstrap](https://ckb.tools/bootstrap) for the CKB Indexer to speed up the process.

<img src="../images/godwoken-examples-deposit-sudt.png" width="100%" />
